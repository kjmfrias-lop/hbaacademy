{"ast":null,"code":"import React__default from 'react';\n\n// default state\nconst INITIAL_STATE = {\n  hasError: false,\n  isLoading: false,\n  message: undefined\n};\nconst LOADING_STATE = {\n  hasError: false,\n  isLoading: true,\n  message: undefined\n};\nconst ERROR_STATE = {\n  hasError: true,\n  isLoading: false\n};\nconst resolveMaybeAsync = async value => {\n  const awaited = await value;\n  return awaited;\n};\nfunction useDataState(action, initialData) {\n  const [dataState, setDataState] = React__default.useState(() => ({\n    ...INITIAL_STATE,\n    data: initialData\n  }));\n  const prevData = React__default.useRef(initialData);\n  const handleAction = React__default.useCallback((...input) => {\n    setDataState(({\n      data\n    }) => ({\n      ...LOADING_STATE,\n      data\n    }));\n    resolveMaybeAsync(action(prevData.current, ...input)).then(data => {\n      prevData.current = data;\n      setDataState({\n        ...INITIAL_STATE,\n        data\n      });\n    }).catch(({\n      message\n    }) => {\n      setDataState(({\n        data\n      }) => ({\n        ...ERROR_STATE,\n        data,\n        message\n      }));\n    });\n  }, [action]);\n  return [dataState, handleAction];\n}\nexport { useDataState as default };","map":{"version":3,"names":["React__default","INITIAL_STATE","hasError","isLoading","message","undefined","LOADING_STATE","ERROR_STATE","resolveMaybeAsync","value","awaited","useDataState","action","initialData","dataState","setDataState","useState","data","prevData","useRef","handleAction","useCallback","input","current","then","catch","default"],"sources":["/Users/kriziafrias/Documents/GitHub/hbaacademy/node_modules/@aws-amplify/ui-react-core/dist/esm/hooks/useDataState.mjs"],"sourcesContent":["import React__default from 'react';\n\n// default state\nconst INITIAL_STATE = { hasError: false, isLoading: false, message: undefined };\nconst LOADING_STATE = { hasError: false, isLoading: true, message: undefined };\nconst ERROR_STATE = { hasError: true, isLoading: false };\nconst resolveMaybeAsync = async (value) => {\n    const awaited = await value;\n    return awaited;\n};\nfunction useDataState(action, initialData) {\n    const [dataState, setDataState] = React__default.useState(() => ({\n        ...INITIAL_STATE,\n        data: initialData,\n    }));\n    const prevData = React__default.useRef(initialData);\n    const handleAction = React__default.useCallback((...input) => {\n        setDataState(({ data }) => ({ ...LOADING_STATE, data }));\n        resolveMaybeAsync(action(prevData.current, ...input))\n            .then((data) => {\n            prevData.current = data;\n            setDataState({ ...INITIAL_STATE, data });\n        })\n            .catch(({ message }) => {\n            setDataState(({ data }) => ({ ...ERROR_STATE, data, message }));\n        });\n    }, [action]);\n    return [dataState, handleAction];\n}\n\nexport { useDataState as default };\n"],"mappings":"AAAA,OAAOA,cAAc,MAAM,OAAO;;AAElC;AACA,MAAMC,aAAa,GAAG;EAAEC,QAAQ,EAAE,KAAK;EAAEC,SAAS,EAAE,KAAK;EAAEC,OAAO,EAAEC;AAAU,CAAC;AAC/E,MAAMC,aAAa,GAAG;EAAEJ,QAAQ,EAAE,KAAK;EAAEC,SAAS,EAAE,IAAI;EAAEC,OAAO,EAAEC;AAAU,CAAC;AAC9E,MAAME,WAAW,GAAG;EAAEL,QAAQ,EAAE,IAAI;EAAEC,SAAS,EAAE;AAAM,CAAC;AACxD,MAAMK,iBAAiB,GAAG,MAAOC,KAAK,IAAK;EACvC,MAAMC,OAAO,GAAG,MAAMD,KAAK;EAC3B,OAAOC,OAAO;AAClB,CAAC;AACD,SAASC,YAAYA,CAACC,MAAM,EAAEC,WAAW,EAAE;EACvC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGf,cAAc,CAACgB,QAAQ,CAAC,OAAO;IAC7D,GAAGf,aAAa;IAChBgB,IAAI,EAAEJ;EACV,CAAC,CAAC,CAAC;EACH,MAAMK,QAAQ,GAAGlB,cAAc,CAACmB,MAAM,CAACN,WAAW,CAAC;EACnD,MAAMO,YAAY,GAAGpB,cAAc,CAACqB,WAAW,CAAC,CAAC,GAAGC,KAAK,KAAK;IAC1DP,YAAY,CAAC,CAAC;MAAEE;IAAK,CAAC,MAAM;MAAE,GAAGX,aAAa;MAAEW;IAAK,CAAC,CAAC,CAAC;IACxDT,iBAAiB,CAACI,MAAM,CAACM,QAAQ,CAACK,OAAO,EAAE,GAAGD,KAAK,CAAC,CAAC,CAChDE,IAAI,CAAEP,IAAI,IAAK;MAChBC,QAAQ,CAACK,OAAO,GAAGN,IAAI;MACvBF,YAAY,CAAC;QAAE,GAAGd,aAAa;QAAEgB;MAAK,CAAC,CAAC;IAC5C,CAAC,CAAC,CACGQ,KAAK,CAAC,CAAC;MAAErB;IAAQ,CAAC,KAAK;MACxBW,YAAY,CAAC,CAAC;QAAEE;MAAK,CAAC,MAAM;QAAE,GAAGV,WAAW;QAAEU,IAAI;QAAEb;MAAQ,CAAC,CAAC,CAAC;IACnE,CAAC,CAAC;EACN,CAAC,EAAE,CAACQ,MAAM,CAAC,CAAC;EACZ,OAAO,CAACE,SAAS,EAAEM,YAAY,CAAC;AACpC;AAEA,SAAST,YAAY,IAAIe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}